<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mouse Events</title>

  <style>

    #canvas {
      border: 1px black solid;
    }

  </style>

</head>
<body>

<P>Click the mouse on the canvas</P>
<canvas id="canvas" height="400" width="400"></canvas>

<br />
<label for='user_color'>What color fo you want your circle to be?</label>
<input id='user_color' type="color" onchange='docolor()'>
<br />
<label for='radius-range'>Slide to change the circle size</label>
<input id='radius-range' type='range' onchange=dorange()>


<script>

  //setting up with the canvas and starting to edit on canvas
  var canvas = document.getElementById("canvas");
  var context = canvas.getContext("2d");

  //setting as disable for mousedown
  var mousedown = false

  //function to get the color input value
  function docolor(){
        var colorInput = document.querySelector('#user_color')
        var colorCode = colorInput.value;
    }

    //function to get the range input value
   function dorange(){
        var rangeInput = document.querySelector('#radius-range')
        var rangeCode = rangeInput.value;
   }

  canvas.addEventListener("mousedown", function() {
    
    //getting the mousdeown to be activated
    mousedown = true

    //getting the code for color and range
    var colorInput = document.querySelector('#user_color')
    var colorCode = colorInput.value;

    var rangeInput = document.querySelector('#radius-range')
    var rangeCode = rangeInput.value;
    
    //getting the coordinates for X and Y
    cx = event.pageX;
    cy = event.pageY;
    //begin to draw the circle 
    context.beginPath();

    context.arc(cx-10, cy-50, rangeCode,0,2*Math.PI);
    context.fillStyle = colorCode
    context.fill();
    context.stroke();

    

  });

  canvas.addEventListener("mouseup", function() {
    mousedown = false 
  })

  canvas.addEventListener("mousemove", function() {

    if (!mousedown) { return; }

    // event is a built-in variable, contains the event that triggered this function
    // get the x, y location of the event
    var x = event.pageX;
    var y = event.pageY;   //offsetX, offsetY, may not work in older browsers

    var rangeInput = document.querySelector('#radius-range')
    var rangeCode = rangeInput.value;

    var colorInput = document.querySelector('#user_color')
    var colorCode = colorInput.value;


    //Draw a filled rectangle centered under the mouse click
    //x, y is the top left corner, so shift up and left by 5 to center it under the mouse.
    context.beginPath();
    context.arc(x-10, y-50, rangeCode,0,2*Math.PI);   
    context.fillStyle = colorCode;
    context.fill();
    context.stroke();
 
    

  })


</script>

</body>
</html>